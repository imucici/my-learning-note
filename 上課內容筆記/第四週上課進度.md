InsertionSort、QuickSort
=============

目錄:
--------
* [簡介](#簡介)
* [比較(InsertionSort vs QuickSort)](#比較)
* [實例講解](#實例講解)
* [完整程式範例](#完整程式範例)
* [課程影片連結](#課程影片連結)
* [參考資料](#參考資料)


簡介
-----
* **InsertionSort(插入排序法)**
    * **具體演算法**:
      1. 從第一個元素開始，該元素可以認為已經被排序。
      2. 取出下一個元素，在已經排序的元素序列中從後向前掃描。
      3. 如果該元素（已排序）大於新元素，將該元素移到下一位置。
      4. 重複步驟c，直到找到已排序的元素小於或者等於新元素的位置。
      5. 將新元素插入到該位置後。
      6. 重複步驟b.~e.，直到完成排序。
 <br></br>   
 
   
   * **示意圖**
<br></br>      
![InsertionSort](https://media.geeksforgeeks.org/wp-content/uploads/insertionsort.png)

<br></br>
* **QuickSort(快速排序法)**

   * 是一種「把大問題分成小問題處理」方法
   * **具體演算法**:
      1. 數列中選擇任一元素作為基準點(pivot)。
      2. 將數列一分為二，小於此元素的移至基準的左邊，大於此元素的移至右邊，相等的任意放。
      3. 基準點左邊和右邊視為兩個數列，並重複做以上動作直到完成排序。

   * **示意圖**
<br></br>
![QuickSort](https://i2.wp.com/www.techiedelight.com/wp-content/uploads/Quicksort.png?w=1100http://)

[回目錄](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/%E7%AC%AC%E5%9B%9B%E9%80%B1%E4%B8%8A%E8%AA%B2%E9%80%B2%E5%BA%A6.md#%E7%9B%AE%E9%8C%84)


比較:
-----


|         |     InsertionSort     | QuickSort  |
| :-------------: |:-------------:| :------------:|
| 最佳時間複雜度        | O(n)      | O(nlog n) |
| 平均時間複雜度        | O(n^2)      |   O(nlog n) |
| 最差時間複雜度         | O(n^2)     |  O(n2)   |


> 參考資料 [[Sort] 淺談 insertion sort](https://blog.kuoe0.tw/posts/2013/03/05/sort-about-insertion-sort/)

> 參考資料 [[Sort] 淺談 quick sort](https://blog.kuoe0.tw/posts/2013/03/15/sort-about-quick-sort/)

[回目錄](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/%E7%AC%AC%E5%9B%9B%E9%80%B1%E4%B8%8A%E8%AA%B2%E9%80%B2%E5%BA%A6.md#%E7%9B%AE%E9%8C%84)


實例講解:
-----
* InsertionSort

```python
舉例有一組序列: 54 100 22 28 44 29 69 98 43 21
```

`灰底`:已排序的值 ; **粗體**: 正處理的值
<br></br>
Step0:
`54` 100 22 28 44 29 69 98 43 21

Step1:
`54` **`100`** 22 28 44 29 69 98 43 21

Step2:
**`22`** `54` `100` 28 44 29 69 98 43 21

Step3:
`22` **`28`** `54` `100` 44 29 69 98 43 21

Step4:
`22` `28` **`44`**  `54` `100` 29 69 98 43 21

Step5:
`22` `28` **`29`** `44` `54` `100` 69 98 43 21

Step6:
`22` `28` `29` `44` `54` **`69`** `100` 98 43 21

Step7:
`22` `28` `29` `44` `54` `69` **`98`** `100` 43 21

Step8:
`22` `28` `29` **`43`** `44` `54` `69` `98` `100` 21

Step9:
**`21`** `22` `28` `29` `43` `44` `54` `69` `98` `100`

<br></br>



* QuickSort

```python
舉例有一組序列: 8 2 45 17 4 3 
```      

`灰底`:已排序的值 ; **粗體**: 基準點(假定每次都拿最左邊的數當基準點)

Step1:
**2** 4 3 `8` **45** 17

Step2:
`2` **4** 3 `8` 17 `45`

Step3:
`2` `3` `4` `8` `17` `45`


[回目錄](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/%E7%AC%AC%E5%9B%9B%E9%80%B1%E4%B8%8A%E8%AA%B2%E9%80%B2%E5%BA%A6.md#%E7%9B%AE%E9%8C%84)


完整程式範例:
----

* InsertionSort

```python
def insertion_sort(lst):
    for index in range(1, len(lst)): #第一個數默認為已排序
        value = lst[index] 
        i = index - 1 # 和前一個數比較
        while i >= 0 :
            if value < lst[i]: #當處理值小於已處理值
                lst[i+1] = lst[i]　#左邊換到右邊
                lst[i] = value　#右邊換到左邊
                i -= 1
            else:
                break
          
```
----------------------------------


* **QuickSort(佔外部空間法)**

     * 將數列`最左邊`的數當基準點(pivot)，小於此數放入smaller的空list ; 大於此數放入bigger的空list，相等放入equal的空list，重複這些步驟，直到完成排序，最後將這三部分的list合併。
      
```python
   def quicksort(list):
    if len(list) <= 1:
        return list
    else:
        pivot = list[0] #把最左邊的數當基準點
        smaller = []
        bigger = []
        equal = []
        for i in list:
            if i < pivot:
                smaller.append(i)
            elif i > pivot:
                bigger.append(i)
            else:
                equal.append(i)
        return quicksort(smaller) + equal + quicksort(bigger)
   ```
        
```python
list1 = [7,79,45,6,3,65]
quicksort(list1)
```
output

```python
[3, 6, 7, 45, 65, 79]
```
> [完整程式碼](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/quick%20sort/quick%20sort_%E4%BD%94%E5%A4%96%E9%83%A8%E7%A9%BA%E9%96%93%E6%B3%95.ipynb)   

[流程圖](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/quick%20sort/quick%20sort_%E6%B5%81%E7%A8%8B%E5%9C%96.pdf)
     
<br></br>     
* **QuickSort(in_place 不佔外部空間法)**

```python
def partition(array, begining, end):
    # 若為空list或只含單個元素的list，默認已排序，所以直接回傳
    if len(array) <= 1:
        return array
    
    else:
        #宣告一個開頭節點，及其數值
        pivot_index = begining #為了保留begining (pivot_index:第0位)
        pivot = array[begining] #把第0位的值叫piviot
        
        #給出左右兩個指針
        left = pivot_index + 1
        right = end - 1 #(range的end值不包含)
        
        #保證兩個迴圈的運行
        while True:
            
            #左側指針不斷進行到下一個 直到第一個大於基準點的值
            while left <= right and array[left] < pivot:
                left += 1
            
            #右側指針不斷進行到上一個 直到第一個小於基準點的值
            while right >= left and array[right] > pivot:
                right -= 1
            
            #運行到左側指針超過右側指針也就是說指針所在數值已經是left<right的時候打破迴圈
            if left > right:
                break
            
            #把左側指針指向的數值和右側指針指向的數值位置互換
            else:
                array[left], array[right] = array[right], array[left]
    
    #完成一次排序之後把基準點放置到指定位置
    array[pivot_index], array[right] = array[right], array[pivot_index]
    
    return right, pivot

def qs(array, begining, end):
    
    #只要沒有切分到開頭就是結尾（也就是說只有最後一個元素）就循環進行上述過程
    if begining < end:
        right, pivot = partition(array, begining, end)
        
        #運行左側部分
        qs(array, begining, right) #上面互換是互換指針的值 因此指針位置其實不變
        
        #運行右側部分
        qs(array, right + 1,end)
    return array
```

```python
example = [20, 3, 0, 35, 8, 23, 15, 28, 7, 32]
qs(example, 0, len(example))
```

output

```python
[0, 3, 7, 8, 15, 20, 23, 28, 32, 35]
```


> [完整程式碼](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/quick%20sort/quick%20sort_in_place%20%E4%B8%8D%E4%BD%94%E5%A4%96%E9%83%A8%E7%A9%BA%E9%96%93%E6%B3%95.ipynb)

[回目錄](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/%E7%AC%AC%E5%9B%9B%E9%80%B1%E4%B8%8A%E8%AA%B2%E9%80%B2%E5%BA%A6.md#%E7%9B%AE%E9%8C%84)



課程影片連結:
----
<a href="http://www.youtube.com/watch?feature=player_embedded&v=G4dwRF_Rzd0
" target="_blank"><img src="http://img.youtube.com/vi/G4dwRF_Rzd0/0.jpg" 
alt="圖片 ALT 文字放在這裡" width="720" height="540" border="20" /></a>

[回目錄](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/%E7%AC%AC%E5%9B%9B%E9%80%B1%E4%B8%8A%E8%AA%B2%E9%80%B2%E5%BA%A6.md#%E7%9B%AE%E9%8C%84)

參考資料:
----
* [資料結構-插入排序法（insertion-sort）in-pytho](http://jialin128.pixnet.net/blog/post/141019829-%5B-%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B-%5D-%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E6%B3%95%EF%BC%88insertion-sort%EF%BC%89in-pytho)

* [Quick Sort_in place網頁版](https://www.cnblogs.com/zuoyuan/p/3766296.html)

* [Quick Sort_in place影片版](https://www.youtube.com/watch?v=KPbqi9lza64&feature=youtu.be)

[回目錄](https://github.com/imucici/my-learning-note/blob/master/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9%E7%AD%86%E8%A8%98/%E7%AC%AC%E5%9B%9B%E9%80%B1%E4%B8%8A%E8%AA%B2%E9%80%B2%E5%BA%A6.md#%E7%9B%AE%E9%8C%84)

